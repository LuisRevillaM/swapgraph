{
  "checks": {
    "polling_equals_webhook": {
      "proposal_ids_equal": true,
      "proposal_partner_ids_equal": true
    },
    "webhook_replay_idempotent": true
  },
  "final": {
    "polling": {
      "proposal_ids": [
        "cycle_4f27eb196224",
        "cycle_961f2288e6f7"
      ],
      "proposal_partner_ids": {
        "cycle_4f27eb196224": "swapgraph",
        "cycle_961f2288e6f7": "swapgraph"
      },
      "proposals_count": 2
    },
    "webhook": {
      "proposal_ids": [
        "cycle_4f27eb196224",
        "cycle_961f2288e6f7"
      ],
      "proposal_partner_ids": {
        "cycle_4f27eb196224": "swapgraph",
        "cycle_961f2288e6f7": "swapgraph"
      },
      "proposals_count": 2
    }
  },
  "operations": [
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "ok": true,
      "op": "delivery.ingest_polling",
      "proposals_stored": 2,
      "proposals_total": 2,
      "store": {
        "kind": "polling",
        "proposal_ids": [
          "cycle_4f27eb196224",
          "cycle_961f2288e6f7"
        ],
        "proposal_partner_ids": {
          "cycle_4f27eb196224": "swapgraph",
          "cycle_961f2288e6f7": "swapgraph"
        },
        "proposals_count": 2
      }
    },
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "events_applied": 2,
      "events_duplicates": 1,
      "events_ignored": 0,
      "events_invalid_signature": 0,
      "events_new_unique": 2,
      "events_total": 3,
      "label": "round1",
      "ok": true,
      "op": "delivery.ingest_webhooks",
      "store": {
        "kind": "webhook",
        "proposal_ids": [
          "cycle_4f27eb196224",
          "cycle_961f2288e6f7"
        ],
        "proposal_partner_ids": {
          "cycle_4f27eb196224": "swapgraph",
          "cycle_961f2288e6f7": "swapgraph"
        },
        "proposals_count": 2
      }
    },
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "events_applied": 0,
      "events_duplicates": 3,
      "events_ignored": 0,
      "events_invalid_signature": 0,
      "events_new_unique": 0,
      "events_total": 3,
      "label": "replay",
      "ok": true,
      "op": "delivery.ingest_webhooks",
      "store": {
        "kind": "webhook",
        "proposal_ids": [
          "cycle_4f27eb196224",
          "cycle_961f2288e6f7"
        ],
        "proposal_partner_ids": {
          "cycle_4f27eb196224": "swapgraph",
          "cycle_961f2288e6f7": "swapgraph"
        },
        "proposals_count": 2
      }
    },
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.list",
      "proposal_ids": [
        "cycle_4f27eb196224",
        "cycle_961f2288e6f7"
      ],
      "proposals_count": 2
    },
    {
      "actor": {
        "id": "other_partner",
        "type": "partner"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.list",
      "proposal_ids": [],
      "proposals_count": 0
    },
    {
      "actor": {
        "id": "u1",
        "type": "user"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.list",
      "proposal_ids": [
        "cycle_4f27eb196224"
      ],
      "proposals_count": 1
    },
    {
      "actor": {
        "id": "u5",
        "type": "user"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.list",
      "proposal_ids": [
        "cycle_961f2288e6f7"
      ],
      "proposals_count": 1
    },
    {
      "actor": {
        "id": "u999",
        "type": "user"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.list",
      "proposal_ids": [],
      "proposals_count": 0
    },
    {
      "actor": {
        "id": "agent_1",
        "type": "agent"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.list",
      "proposal_ids": null,
      "proposals_count": null
    },
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": "cycle_4f27eb196224"
    },
    {
      "actor": {
        "id": "other_partner",
        "type": "partner"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": null
    },
    {
      "actor": {
        "id": "u1",
        "type": "user"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": "cycle_4f27eb196224"
    },
    {
      "actor": {
        "id": "u5",
        "type": "user"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": null
    },
    {
      "actor": {
        "id": "u5",
        "type": "user"
      },
      "error_code": null,
      "ok": true,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_961f2288e6f7",
      "returned_proposal_id": "cycle_961f2288e6f7"
    },
    {
      "actor": {
        "id": "u1",
        "type": "user"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_961f2288e6f7",
      "returned_proposal_id": null
    },
    {
      "actor": {
        "id": "swapgraph",
        "type": "partner"
      },
      "error_code": "NOT_FOUND",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_missing_000",
      "returned_proposal_id": null
    },
    {
      "actor": {
        "id": "agent_1",
        "type": "agent"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": null
    },
    {
      "actor": {
        "id": "u999",
        "type": "user"
      },
      "error_code": "FORBIDDEN",
      "ok": false,
      "op": "cycleProposals.get",
      "proposal_id": "cycle_4f27eb196224",
      "returned_proposal_id": null
    }
  ]
}
