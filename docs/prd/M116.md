# M116 â€” Deterministic disjoint-cycle optimizer (exact with bounded fallback)

## Objective
Replace greedy disjoint proposal selection with a deterministic optimizer that maximizes total selected proposal score under shared-intent conflict constraints.

## Scope
- Upgrade `selectDisjointProposals` to optimize over a conflict graph of candidate cycles.
- Component-wise optimization strategy:
  - exact maximum-weight independent-set search for bounded component size,
  - deterministic greedy fallback for oversized components.
- Preserve deterministic tie-breaking for equal-score solutions.
- Preserve output compatibility (`selected`, `trace`, `candidates_count`).
- Add deterministic verifier coverage that proves a concrete greedy-suboptimal case is improved.

## Non-goals (M116)
- No cycle enumeration changes (covered by M115).
- No marketplace API request/response shape changes.
- No TypeScript runtime migration work.

## Acceptance criteria
- `npm run verify:m116` exits 0.
- `node verify/runner.mjs milestones/M116.yaml` exits 0.
- Proof artifacts exist at `artifacts/milestones/M116/latest/*`.

## Required artifacts
- `scripts/run-m116-disjoint-optimizer-scenario.mjs`
- `fixtures/release/m116_scenario.json`
- `fixtures/release/m116_expected.json`
- `artifacts/milestones/M116/latest/disjoint_optimizer_output.json`
- `artifacts/milestones/M116/latest/assertions.json`
- `artifacts/milestones/M116/latest/commands.log`
