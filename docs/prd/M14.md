# M14 â€” Read endpoint authorization (partner vs participant) + forbidden proofs

## Objective
Make read-side authorization rules explicit and verifiable for these v1 endpoints:
- `GET /settlement/{cycle_id}/instructions`
- `GET /settlement/{cycle_id}/status`
- `GET /receipts/{cycle_id}`

This is still **fixtures-first** (no HTTP server) and is focused on correctness + proof.

## Rules (v1)
### Actors
- `partner`: allowed to read settlement status/instructions and receipts.
  - (Note: partner scoping is not modeled yet; this is a placeholder contract.)
- `user`: allowed **only if** they are a participant in the cycle.
  - Participant = appears in the settlement timeline legs (as `from_actor` or `to_actor`).
- `agent`: forbidden by default (delegation policy comes in later milestones).

### Error codes
- If the resource does not exist: `NOT_FOUND`.
- If the resource exists but the actor is not authorized: `FORBIDDEN`.

## Scope
- A fixtures scenario that:
  - creates a cycle settlement timeline,
  - performs read operations as:
    - a partner (allowed)
    - a participant user (allowed)
    - a non-participant user (forbidden)
    - an agent (forbidden)
  - validates all success responses against the API manifest schemas
  - validates all error responses against `ErrorResponse.schema.json`

## Acceptance criteria
- `npm run verify:m14` exits 0.
- `node verify/runner.mjs milestones/M14.yaml` exits 0.

## Required artifacts
Fixtures:
- `fixtures/settlement/m14_scenario.json`
- `fixtures/settlement/m14_expected.json`

Proof artifacts:
- `artifacts/milestones/M14/latest/authz_output.json`
- `artifacts/milestones/M14/latest/assertions.json`
- `artifacts/milestones/M14/latest/commands.log`
