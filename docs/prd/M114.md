# M114 — Explicit edge-intents and hybrid graph matching contracts

Status: Implemented and verifier-closed on 2026-02-22 (`AUTHZ_ENFORCE=1 npm run verify:m114`).

## Objective
Add first-class user/partner-expressed edge intents while preserving existing derived compatibility edges, so cycle discovery can operate over a hybrid graph (`derived ∪ expressed`) with deterministic behavior.

## Scope
1. Edge-intent API contracts:
   - `POST /edge-intents` (idempotent upsert),
   - `GET /edge-intents`,
   - `GET /edge-intents/{edge_intent_id}`.
2. Runtime service implementation:
   - ownership and existence checks for source/target intents,
   - stable reason-code failures for invalid/not-found/ownership/query cases.
3. Matching graph integration:
   - explicit `allow`/`prefer` can form directed compatibility edges,
   - explicit `block` suppresses directed compatibility edges,
   - cycle discovery remains deterministic and non-overlapping proposal selection remains unchanged.
4. Milestone verifier coverage:
   - schema/manifest/auth validation,
   - deterministic scenario proving cycle construction from explicit edges and suppression via block edges.

## Non-goals (M114)
- No optimizer replacement for greedy proposal selection.
- No cycle enumeration beyond current 2- and 3-party cycle search.
- No UI workflow implementation.

## Acceptance
M114 is accepted when:
1. edge-intent surfaces validate in schema/manifest/auth contract gates,
2. runtime supports edge-intent upsert/list/get with deterministic reason codes,
3. matching can build cycles from explicit edges and disable them via block edges in verifier scenario artifacts.
