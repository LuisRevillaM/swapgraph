# M8 — Accept-window expiry + reservation release

## Objective
Make proposal expiry semantics explicit and verifiable:
- commits that remain in `phase=accept` past `CycleProposal.expires_at` must be cancelled
- reservations must be released
- expiry must emit auditable events

This milestone closes the last “commit correctness” gap before settlement simulation.

## Scope
- Expiration processor that:
  - cancels accept-phase commits past expiry,
  - releases intent reservations,
  - emits `intent.unreserved` and `cycle.state_changed (failed)` with `reason_code=proposal_expired`.
- Fixtures-first scenario demonstrating:
  - a partially accepted 3-cycle expires and releases reservations
  - a ready 2-cycle is not cancelled by accept-window expiry

## Non-goals
- No deposit window expiry (settlement deadlines) yet.

## Acceptance criteria
- `npm run verify:m8` exits 0.
- `node verify/runner.mjs milestones/M8.yaml` exits 0.

## Required artifacts
Fixtures:
- `fixtures/commit/m8_scenario.json`
- `fixtures/commit/m8_expected.json`

Proof artifacts:
- `artifacts/milestones/M8/latest/expiry_output.json`
- `artifacts/milestones/M8/latest/events_outbox.ndjson`
- `artifacts/milestones/M8/latest/events_validation.json`
- `artifacts/milestones/M8/latest/assertions.json`
- `artifacts/milestones/M8/latest/commands.log`
