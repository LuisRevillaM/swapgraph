# M17 — Partner identity in auth model + correlation IDs in read responses

## Objective
Close two contract gaps called out in the plan’s integration principles:
1) Make **partner identity** explicit as a stable `partner_id` in the auth model.
2) Ensure **correlation IDs** are propagated in settlement/receipt **read responses**.

This is still fixtures-first:
- no HTTP server
- correlation IDs are modeled in JSON bodies as a stand-in for response headers

## Scope
### 1) Partner identity (`partner_id`)
Update `docs/spec/API.md` to clarify:
- partner API keys resolve to a stable, server-assigned `partner_id`
- partner requests are modeled as `ActorRef { type:"partner", id:"<partner_id>" }`
- `partner_id` is used for multi-tenant scoping (partners cannot read other partners’ cycles)

### 2) Correlation IDs in read response schemas
Update these response schemas to **require** `correlation_id`:
- `SettlementInstructionsGetResponse.schema.json`
- `SettlementStatusGetResponse.schema.json`
- `SwapReceiptGetResponse.schema.json`

Update API examples accordingly:
- `docs/spec/examples/api/settlement.instructions.response.json`
- `docs/spec/examples/api/settlement.status.response.json`
- `docs/spec/examples/api/receipts.get.response.json`

### 3) Implementation (fixtures-only)
Ensure the fixtures read-side implementations populate:
- `correlation_id = "corr_<cycle_id>"`

## Acceptance criteria
- `npm run verify:m17` exits 0.
- `node verify/runner.ts milestones/M17.yaml` exits 0.

## Required artifacts
- `docs/prd/M17.md`
- `docs/spec/API.md`
- Updated schemas + examples (see Scope)
- Proof artifacts under `artifacts/milestones/M17/latest/*`
