# M100 — Metrics and network health contracts (PRD-only, implementation-ready)

## Objective
Convert v2 metrics/network-health section into deterministic, contract-backed API surfaces suitable for partner and operator instrumentation.

## Scope
### A) Metrics surface categories (to define)
1. **North-star metrics**
   - weekly successful swaps per active trader
   - fill-rate within target window
2. **Marketplace funnel metrics**
   - connect → sync → first intent → proposal viewed → accepted → deposited → completed
3. **API/platform metrics**
   - partner order flow, proposal delivery performance, commit/completion rates
   - webhook delivery health, replay usage, endpoint latency/error rates
4. **Safety/trust metrics**
   - fraud flags, confirmed abuse rate, refund/unwind frequency, felt-safe proxy fields

### B) Contract semantics
- Deterministic windowing (`from_iso`, `to_iso`, granularity, timezone assumptions).
- Aggregation semantics with reproducible outputs for fixtures.
- Signed metrics export with continuation/tamper-fail verification.

### C) Integration constraints
- Metrics read surfaces should be partner- and tenant-scoped.
- No leakage of cross-partner sensitive aggregates.

## Non-goals (M100)
- No dashboard UI implementation.
- No BI/warehouse integration rollout.
- No real-time streaming analytics pipeline implementation.

## Open decisions to resolve in PRD review
1. Canonical primary north-star metric for product reporting in v1 contract surfaces.
2. Retention windows and aggregation granularity defaults.
3. Which metrics are partner-visible vs internal-only in first release.

## Acceptance (PRD stage)
- M100 PRD is accepted when metric taxonomy, aggregation semantics, and signed export contract boundaries are explicit and unambiguous.

## Acceptance (future implementation stage)
- `npm run verify:m100` exits 0.
- `node verify/runner.ts milestones/M100.yaml` returns `overall=true`.
- Artifacts under `artifacts/milestones/M100/latest/*`.
