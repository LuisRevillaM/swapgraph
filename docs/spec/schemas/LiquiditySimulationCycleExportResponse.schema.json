{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://swapgraph.dev/schemas/LiquiditySimulationCycleExportResponse.schema.json",
  "title": "LiquiditySimulationCycleExportResponse",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "correlation_id",
    "session_id",
    "simulation",
    "simulation_session_id",
    "export"
  ],
  "properties": {
    "correlation_id": {
      "type": "string",
      "minLength": 1
    },
    "session_id": {
      "type": "string",
      "minLength": 1
    },
    "simulation": {
      "type": "boolean",
      "const": true
    },
    "simulation_session_id": {
      "type": "string",
      "minLength": 1
    },
    "export": {
      "type": "object",
      "additionalProperties": false,
      "required": [
        "exported_at",
        "query",
        "total_filtered",
        "entries",
        "attestation",
        "checkpoint",
        "export_hash",
        "signature"
      ],
      "properties": {
        "exported_at": {
          "type": "string",
          "format": "date-time"
        },
        "query": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 200
            },
            "cursor_after": {
              "type": "string",
              "minLength": 1
            },
            "attestation_after": {
              "type": "string",
              "minLength": 1
            },
            "checkpoint_after": {
              "type": "string",
              "pattern": "^[a-f0-9]{64}$"
            }
          }
        },
        "total_filtered": {
          "type": "integer",
          "minimum": 0
        },
        "entries": {
          "type": "array",
          "items": {
            "$ref": "LiquiditySimulationCycleEntry.schema.json"
          }
        },
        "next_cursor": {
          "type": "string",
          "minLength": 1
        },
        "attestation": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "cursor_after",
            "next_cursor",
            "attestation_after",
            "page_hash",
            "chain_hash"
          ],
          "properties": {
            "cursor_after": {
              "type": [
                "string",
                "null"
              ],
              "minLength": 1
            },
            "next_cursor": {
              "type": [
                "string",
                "null"
              ],
              "minLength": 1
            },
            "attestation_after": {
              "type": [
                "string",
                "null"
              ],
              "minLength": 1
            },
            "page_hash": {
              "type": "string",
              "pattern": "^[a-f0-9]{64}$"
            },
            "chain_hash": {
              "type": "string",
              "pattern": "^[a-f0-9]{64}$"
            }
          }
        },
        "checkpoint": {
          "type": "object",
          "additionalProperties": false,
          "required": [
            "checkpoint_after",
            "attestation_chain_hash",
            "next_cursor",
            "entries_count",
            "total_filtered",
            "checkpoint_hash"
          ],
          "properties": {
            "checkpoint_after": {
              "type": [
                "string",
                "null"
              ],
              "pattern": "^[a-f0-9]{64}$"
            },
            "attestation_chain_hash": {
              "type": [
                "string",
                "null"
              ],
              "pattern": "^[a-f0-9]{64}$"
            },
            "next_cursor": {
              "type": [
                "string",
                "null"
              ],
              "minLength": 1
            },
            "entries_count": {
              "type": "integer",
              "minimum": 0
            },
            "total_filtered": {
              "type": "integer",
              "minimum": 0
            },
            "checkpoint_hash": {
              "type": "string",
              "pattern": "^[a-f0-9]{64}$"
            }
          }
        },
        "export_hash": {
          "type": "string",
          "pattern": "^[a-f0-9]{64}$"
        },
        "signature": {
          "$ref": "EventSignature.schema.json"
        }
      }
    }
  }
}
