{
  "version": 1,
  "id": "swapgraph-api-v1",
  "endpoints": [
    {
      "method": "POST",
      "path": "/swap-intents",
      "operation_id": "swapIntents.create",
      "idempotency_required": true,
      "request_schema": "SwapIntentUpsertRequest.schema.json",
      "response_schema": "SwapIntentUpsertResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "swap_intents:write"
        ]
      }
    },
    {
      "method": "PATCH",
      "path": "/swap-intents/{id}",
      "operation_id": "swapIntents.update",
      "idempotency_required": true,
      "request_schema": "SwapIntentUpsertRequest.schema.json",
      "response_schema": "SwapIntentUpsertResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "swap_intents:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/swap-intents/{id}/cancel",
      "operation_id": "swapIntents.cancel",
      "idempotency_required": true,
      "request_schema": "SwapIntentCancelRequest.schema.json",
      "response_schema": "SwapIntentCancelResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "swap_intents:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/swap-intents/{id}",
      "operation_id": "swapIntents.get",
      "idempotency_required": false,
      "response_schema": "SwapIntentGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "swap_intents:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/swap-intents",
      "operation_id": "swapIntents.list",
      "idempotency_required": false,
      "response_schema": "SwapIntentListResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "swap_intents:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/cycle-proposals",
      "operation_id": "cycleProposals.list",
      "idempotency_required": false,
      "response_schema": "CycleProposalListResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "cycle_proposals:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/cycle-proposals/{id}",
      "operation_id": "cycleProposals.get",
      "idempotency_required": false,
      "response_schema": "CycleProposalGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "cycle_proposals:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/cycle-proposals/{id}/accept",
      "operation_id": "cycleProposals.accept",
      "idempotency_required": true,
      "request_schema": "CommitAcceptRequest.schema.json",
      "response_schema": "CommitResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "commits:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/cycle-proposals/{id}/decline",
      "operation_id": "cycleProposals.decline",
      "idempotency_required": true,
      "request_schema": "CommitDeclineRequest.schema.json",
      "response_schema": "CommitResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "commits:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/commits/{id}",
      "operation_id": "commits.get",
      "idempotency_required": false,
      "response_schema": "CommitGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "user"
        ],
        "required_scopes": [
          "commits:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/settlement/{cycle_id}/start",
      "operation_id": "settlement.start",
      "idempotency_required": true,
      "request_schema": "SettlementStartRequest.schema.json",
      "response_schema": "SettlementStartResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/settlement/{cycle_id}/deposit-confirmed",
      "operation_id": "settlement.deposit_confirmed",
      "idempotency_required": true,
      "request_schema": "SettlementDepositConfirmedRequest.schema.json",
      "response_schema": "SettlementDepositConfirmedResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/settlement/{cycle_id}/begin-execution",
      "operation_id": "settlement.begin_execution",
      "idempotency_required": true,
      "request_schema": "SettlementBeginExecutionRequest.schema.json",
      "response_schema": "SettlementBeginExecutionResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/settlement/{cycle_id}/complete",
      "operation_id": "settlement.complete",
      "idempotency_required": true,
      "request_schema": "SettlementCompleteRequest.schema.json",
      "response_schema": "SettlementCompleteResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/settlement/{cycle_id}/expire-deposit-window",
      "operation_id": "settlement.expire_deposit_window",
      "idempotency_required": true,
      "request_schema": "SettlementExpireDepositWindowRequest.schema.json",
      "response_schema": "SettlementExpireDepositWindowResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/settlement/{cycle_id}/instructions",
      "operation_id": "settlement.instructions",
      "idempotency_required": false,
      "response_schema": "SettlementInstructionsGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/settlement/{cycle_id}/status",
      "operation_id": "settlement.status",
      "idempotency_required": false,
      "response_schema": "SettlementStatusGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/settlement/{cycle_id}/vault-reconciliation/export",
      "operation_id": "settlement.vault_reconciliation.export",
      "idempotency_required": false,
      "response_schema": "SettlementVaultReconciliationExportResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/partner-program/vault-export",
      "operation_id": "partnerProgram.vault_export.get",
      "idempotency_required": false,
      "response_schema": "PartnerProgramVaultExportGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/partner-program/vault-export/rollout-policy",
      "operation_id": "partnerProgram.vault_export.rollout_policy.get",
      "idempotency_required": false,
      "response_schema": "PartnerProgramVaultExportRolloutPolicyGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/partner-program/vault-export/rollout-policy",
      "operation_id": "partnerProgram.vault_export.rollout_policy.upsert",
      "idempotency_required": true,
      "request_schema": "PartnerProgramVaultExportRolloutPolicyUpsertRequest.schema.json",
      "response_schema": "PartnerProgramVaultExportRolloutPolicyUpsertResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/partner-program/vault-export/rollout-policy/admin-action",
      "operation_id": "partnerProgram.vault_export.rollout_policy.admin_action",
      "idempotency_required": true,
      "request_schema": "PartnerProgramVaultExportRolloutPolicyAdminActionRequest.schema.json",
      "response_schema": "PartnerProgramVaultExportRolloutPolicyAdminActionResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/partner-program/vault-export/rollout-policy-audit/export",
      "operation_id": "partnerProgram.vault_export.rollout_policy_audit.export",
      "idempotency_required": false,
      "response_schema": "PartnerProgramVaultExportRolloutPolicyAuditExportResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "settlement:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/receipts/{cycle_id}",
      "operation_id": "receipts.get",
      "idempotency_required": false,
      "response_schema": "SwapReceiptGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "agent",
          "partner",
          "user"
        ],
        "required_scopes": [
          "receipts:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/delegations",
      "operation_id": "delegations.create",
      "idempotency_required": true,
      "request_schema": "DelegationCreateRequest.schema.json",
      "response_schema": "DelegationCreateResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "delegations:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/delegations/{id}",
      "operation_id": "delegations.get",
      "idempotency_required": false,
      "response_schema": "DelegationGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "delegations:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/delegations/{id}/revoke",
      "operation_id": "delegations.revoke",
      "idempotency_required": true,
      "request_schema": "DelegationRevokeRequest.schema.json",
      "response_schema": "DelegationRevokeResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "delegations:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/policy-audit/delegated-writes",
      "operation_id": "policyAudit.delegated_writes.list",
      "idempotency_required": false,
      "response_schema": "PolicyAuditListResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "delegations:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/policy-audit/delegated-writes/export",
      "operation_id": "policyAudit.delegated_writes.export",
      "idempotency_required": false,
      "response_schema": "PolicyAuditExportResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "delegations:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/vault/holdings/deposit",
      "operation_id": "vault.deposit",
      "idempotency_required": true,
      "request_schema": "VaultDepositRequest.schema.json",
      "response_schema": "VaultHoldingMutationResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "vault:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/vault/holdings/{holding_id}/reserve",
      "operation_id": "vault.reserve",
      "idempotency_required": true,
      "request_schema": "VaultReservationRequest.schema.json",
      "response_schema": "VaultHoldingMutationResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/vault/holdings/{holding_id}/release",
      "operation_id": "vault.release",
      "idempotency_required": true,
      "request_schema": "VaultReservationRequest.schema.json",
      "response_schema": "VaultHoldingMutationResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:write"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/vault/holdings/{holding_id}/withdraw",
      "operation_id": "vault.withdraw",
      "idempotency_required": true,
      "request_schema": "VaultWithdrawRequest.schema.json",
      "response_schema": "VaultHoldingMutationResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "user"
        ],
        "required_scopes": [
          "vault:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/vault/holdings/{holding_id}",
      "operation_id": "vault.get",
      "idempotency_required": false,
      "response_schema": "VaultHoldingGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner",
          "user"
        ],
        "required_scopes": [
          "vault:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/vault/holdings",
      "operation_id": "vault.list",
      "idempotency_required": false,
      "response_schema": "VaultHoldingListResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner",
          "user"
        ],
        "required_scopes": [
          "vault:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/vault/custody/snapshots",
      "operation_id": "vault.custody.publish",
      "idempotency_required": true,
      "request_schema": "VaultCustodyPublishRequest.schema.json",
      "response_schema": "VaultCustodyPublishResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:write"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/vault/custody/snapshots",
      "operation_id": "vault.custody.list",
      "idempotency_required": false,
      "response_schema": "VaultCustodySnapshotListResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/vault/custody/snapshots/{snapshot_id}",
      "operation_id": "vault.custody.get",
      "idempotency_required": false,
      "response_schema": "VaultCustodySnapshotGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:read"
        ]
      }
    },
    {
      "method": "GET",
      "path": "/vault/custody/snapshots/{snapshot_id}/holdings/{holding_id}/proof",
      "operation_id": "vault.custody.proof",
      "idempotency_required": false,
      "response_schema": "VaultCustodyInclusionProofGetResponse.schema.json",
      "auth": {
        "required": true,
        "allowed_actor_types": [
          "partner"
        ],
        "required_scopes": [
          "vault:read"
        ]
      }
    },
    {
      "method": "POST",
      "path": "/auth/delegation-token/introspect",
      "operation_id": "auth.delegation_token.introspect",
      "idempotency_required": false,
      "request_schema": "DelegationTokenIntrospectRequest.schema.json",
      "response_schema": "DelegationTokenIntrospectResponse.schema.json",
      "auth": {
        "required": false,
        "allowed_actor_types": [
          "user",
          "partner",
          "agent"
        ],
        "required_scopes": []
      }
    },
    {
      "method": "GET",
      "path": "/keys/policy-integrity-signing",
      "operation_id": "keys.policy_integrity_signing.get",
      "idempotency_required": false,
      "response_schema": "PolicyIntegritySigningKeysGetResponse.schema.json",
      "auth": {
        "required": false,
        "allowed_actor_types": [
          "user",
          "partner",
          "agent"
        ],
        "required_scopes": []
      }
    },
    {
      "method": "GET",
      "path": "/keys/delegation-token-signing",
      "operation_id": "keys.delegation_token_signing.get",
      "idempotency_required": false,
      "response_schema": "DelegationTokenSigningKeysGetResponse.schema.json",
      "auth": {
        "required": false,
        "allowed_actor_types": [
          "user",
          "partner",
          "agent"
        ],
        "required_scopes": []
      }
    },
    {
      "method": "GET",
      "path": "/keys/receipt-signing",
      "operation_id": "keys.receipt_signing.get",
      "idempotency_required": false,
      "response_schema": "ReceiptSigningKeysGetResponse.schema.json",
      "auth": {
        "required": false,
        "allowed_actor_types": [
          "user",
          "partner",
          "agent"
        ],
        "required_scopes": []
      }
    },
    {
      "method": "GET",
      "path": "/keys/event-signing",
      "operation_id": "keys.event_signing.get",
      "idempotency_required": false,
      "response_schema": "EventSigningKeysGetResponse.schema.json",
      "auth": {
        "required": false,
        "allowed_actor_types": [
          "user",
          "partner",
          "agent"
        ],
        "required_scopes": []
      }
    }
  ],
  "webhooks": {
    "event_types": [
      "proposal.created",
      "proposal.expiring",
      "cycle.state_changed",
      "receipt.created"
    ]
  }
}
